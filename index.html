<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="application.css">
    <title>NBA Snap SHOT</title>
    
</head>

<body>
    

    <script src="dist/bundle.js"></script>
    <h4>NBA</h4>
   <div id="splash"> 
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/d3/3.3.10/d3.min.js"></script>
        <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
        <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>


<!-- 
    <div id="bblogo">
    <svg viewBox="0 0 2200 2200" xmlns="http://www.w3.org/500/svg">
        <path class="bb-0"
            d="M142.327 112.062C214.1 47.017 307.79 5.714 411 .55V410.5H280.346c-8.144-184.333-121.358-284.64-138.02-298.438z"
            fill="currentColor" />
        <path class="bb-1"
            d="M111.104 143.388C46.716 214.908 5.822 307.995.574 410.5h235.893c-7.19-145.817-109.942-251.965-125.363-267.112z"
            fill="currentColor" />
        <path class="bb-2"
            d="M110.902 722.388C46.422 650.666 5.552 557.292.524 454.5h235.788c-8.297 149.66-114.564 257.273-125.41 267.888z"
            fill="currentColor" />
        <path class="bb-3"
            d="M141.633 753.308C213.497 818.716 307.458 860.268 411 865.45V454.5H280.354c-8.297 189.4-127.334 289.638-138.72 298.808z"
            fill="currentColor" />
        <path class="bb-4"
            d="M723.222 754.346C651.507 819.156 557.992 860.296 455 865.45V454h129.39c7.743 190.638 127.705 291.398 138.832 300.346z"
            fill="currentColor" />
        <path class="bb-5"
            d="M754.06 723.538C819.244 651.55 860.555 557.54 865.5 454H628.416c7.704 151.184 115.666 259.807 125.644 269.538z"
            fill="currentColor" />
        <path class="bb-6"
            d="M754.82 143.302C819.145 214.716 860.042 307.652 865.4 410H628.418c8.043-149.258 115.93-256.613 126.4-266.698z"
            fill="currentColor" />
        <path class="bb-7"
            d="M723.687 112.075C651.91 47.022 558.217 5.715 455 .55V410h129.53c8.944-188.743 128.016-288.947 139.157-297.925z"
            fill="currentColor" />
    </svg>
    </div>
    </div>
    -->

    
    <script>
        let pubs =
            {
                "name": "NBA",
                "i": "testing 123 123 123",
                "children": [
                    {
                        "name": "ATL", "children": [
                            { "name": "Justin Anderson",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/2982340.png&w=350&h=254'>",
                                "points": 2.6,
                                "rebounds": 1.3,
                                "assists": 0.4,
                                "FG": 37.5,
                                "FG3": 17.8,
                                "FT": 76.2 },
                            { "name": "Kent Bazemore",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/6637.png&w=350&h=254' />",
                                "FG": 41.7,
                                "FG3": 31.5,
                                "FT": 74.4,
                                "rebounds": 4.0,
                                "assists": 2.4,
                                "points": 12.4 
                            },
                            { "name": "Taurean Prince",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/2990962.png&w=350&h=254' />",
                                "FG": 44.2,
                                "FG3": 38.6,
                                "FT": 83.2,
                                "rebounds": 3.7,
                                "assists": 2.1,
                                "points": 13.3  
                            },
                            { "name": "DeAndre' Bembry",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/3062667.png&w=350&h=254' />",
                                "FG": 43.5,
                                "FG3": 28.9,
                                "FT": 60.6,
                                "rebounds": 4.2,
                                "assists": 2.5,
                                "points": 8.0 
                            },
                            { "name": "Miles Plumlee",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/6616.png&w=350&h=254' />",
                                "FG": 66.7,
                                "FG3": "N/A",
                                "FT": 53.3,
                                "rebounds": 2.2,
                                "assists": 0.9,
                                "points": 4.4 
                            },
                            { "name": "John Collins",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/3908845.png&w=350&h=254' />",
                                "FG": 56.8,
                                "FG3": 37.0,
                                "FT": 76.5,
                                "rebounds": 9.8,
                                "assists": 2.0,
                                "points": 19.9 
                            },
                            { "name": "Dewayne Dedmon",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/2580913.png&w=350&h=254' />",
                                "FG": 48.4,
                                "FG3": 36.8,
                                "FT": 81.6,
                                "rebounds": 7.4,
                                "assists": 1.4,
                                "points": 10.6 
                            },
                            { "name": "Trae Young",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/4277905.png&w=350&h=254' />",
                                "FG": 41.4,
                                "FG3": 33.9,
                                "FT": 82.2,
                                "rebounds": 3.5,
                                "assists": 7.8,
                                "points": 18.4 
                            },
                            { "name": "Kevin Huerter",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/4066372.png&w=350&h=254' />",
                                "FG": 42.1,
                                "FG3": 39.0,
                                "FT": 74.1,
                                "rebounds": 3.3,
                                "assists": 2.8,
                                "points": 9.6 
                            },
                            { "name": "Omari Spellman",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/4065836.png&w=350&h=254' />",
                                "FG": 40.2,
                                "FG3": 34.4,
                                "FT": 71.1,
                                "rebounds": 4.2,
                                "assists": 1.0,
                                "points": 5.9 
                            },
                            { "name": "Jaylen Adams",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/3133874.png&w=350&h=254' />",
                                "FG": 38.3,
                                "FG3": 41.3,
                                "FT": 1.00,
                                "rebounds": 1.5,
                                "assists": 1.7,
                                "points": 3.0 
                            },
                            { "name": "Alex Len",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/2596107.png&w=350&h=254' />",
                                "FG": 48.8,
                                "FG3": 33.8,
                                "FT": 66.3,
                                "rebounds": 5.6,
                                "assists": 1.0,
                                "points": 10.3 
                            },
                            { "name": "Alex Poythress",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/2991283.png&w=350&h=254' />",
                                "FG": 49.4,
                                "FG3": 39.1,
                                "FT": 62.1,
                                "rebounds": 3.6,
                                "assists": 0.8,
                                "points": 5.1 
                            },
                            { "name": "Vince Carter",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/136.png&w=350&h=254' />",
                                "FG": 43.5,
                                "FG3": 40.5,
                                "FT": 67.3,
                                "rebounds": 2.5,
                                "assists": 1.1,
                                "points": 7.2 
                            },
                            { "name": "B.J. Johnson",
                                "img": "<img id='cover-img' src='https://usathoopshype.files.wordpress.com/2019/02/i_43_7e_b5_bj-johnson.png?w=190&h=190&crop=1' />",
                                "FG": 46.7,
                                "FG3": 50.0,
                                "FT": 100.0,
                                "rebounds": 1.6,
                                "assists": 0.0,
                                "points": 3.8 
                            },
                            { "name": "Tyler Zeller",
                                "img": "<img id='cover-img' src='http://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/6631.png&w=350&h=254' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 
                            },
                        ]
                    },
                    {
                        "name": "BOS", "children": [
                            { "name": "Kyrie Irving",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 49.5,
                                "FG3": 41.1,
                                "FT": 86.7,
                                "rebounds": 5.1,
                                "assists": 7.1,
                                "points": 23.6
                            },
                            { "name": "Marcus Morris",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 46.1,
                                "FG3": 37.9,
                                "FT": 83.2,
                                "rebounds": 6.1,
                                "assists": 1.4,
                                "points": 14.3
                            },
                            { "name": "Terry Rozier",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "Al Horford",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "Jaylen Brown",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "Jayson Tatum",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "Gordon Hayward",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "Semi Ojeleye",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "Guerschon Yabusele",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "Daniel Theis",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "Brad Wanamaker",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "Robert Williams",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "Aron Baynes",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "Marcus Smart",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "PJ Dozier",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                            { "name": "R.J. Hunter",
                                "img": "<img id='cover-img' src='' />",
                                "FG": 0.0,
                                "FG3": 0.0,
                                "FT": 0.0,
                                "rebounds": 3.0,
                                "assists": 0.5,
                                "points": 0.0 },
                        ]
                    },
                    {
                        "name": "BKN", "children": [
                            { "name": "D'Angelo Russell",
                                "FG": ".429",
                                "FG3": ".362",
                                "FT": ".806",
                                "rebounds": "3.7",
                                "assists": "6.7",
                                "points": "20.2"  },
                            { "name": "Joe Harris",
                                "FG": ".499",
                                "FG3": ".462",
                                "FT": ".833",
                                "rebounds": "3.6",
                                "assists": "2.5",
                                "points": "13.4"  },
                            { "name": "Spencer Dinwiddie",
                                "FG": ".460",
                                "FG3": ".364",
                                "FT": ".793",
                                "rebounds": "2.5",
                                "assists": "4.9",
                                "points": "17.6"
                            },
                            { "name": "Caris LeVert",
                                "FG": ".423",
                                "FG3": ".296",
                                "FT": ".718",
                                "rebounds": "4.0",
                                "assists": "3.7",
                                "points": "13.8"
                              },
                            { "name": "Jarrett Allen", 
                              "FG": ".590",
                                "FG3": ".140",
                                "FT": ".713",
                                "rebounds": "8.4",
                                "assists": "1.4",
                                "points": "11.1"
                             },
                            { "name": "Allen Crabbe",
                            "FG": ".367",
                                "FG3": ".378",
                                "FT": ".732",
                                "rebounds": "3.4",
                                "assists": "1.1",
                                "points": "9.6"
                             },
                            { "name": "DeMarre Carroll", 
                            "FG": ".392",
                                "FG3": ".349",
                                "FT": ".750",
                                "rebounds": "5.3",
                                "assists": "1.3",
                                "points": "10.9"
                             },
                            { "name": "Treveon Graham",
                                "FG": ".331",
                                "FG3": ".267",
                                "FT": ".778",
                                "rebounds": "3.0",
                                "assists": "0.9",
                                "points": "5.3"
                            },
                            { "name": "Rondae Hollis-Jefferson",
                                 "FG": ".406",
                                "FG3": ".191",
                                "FT": ".649",
                                "rebounds": "5.0",
                                "assists": "1.6",
                                "points": "8.7"
                                },
                            { "name": "Rodions Kurucs", 
                             "FG": ".478",
                                "FG3": ".343",
                                "FT": ".844",
                                "rebounds": "3.8",
                                "assists": "0.8",
                                "points": "9.0"
                             },
                            { "name": "Jared Dudley", 
                             "FG": ".407",
                                "FG3": ".331",
                                "FT": ".629",
                                "rebounds": "2.5",
                                "assists": "1.4",
                                "points": "4.5"
                             },
                            { "name": "Ed Davis", 
                            "FG": ".605",
                                "FG3": ".000",
                                "FT": ".596",
                                "rebounds": "8.6",
                                "assists": "0.8",
                                "points": "5.7"
                             },
                            { "name": "Shabazz Napier", 
                            "FG": ".389",
                                "FG3": ".329",
                                "FT": ".833",
                                "rebounds": "1.7",
                                "assists": "2.5",
                                "points": "9.4"
                             },
                            { "name": "Dzanan Musa", 
                            "FG": ".349",
                                "FG3": ".282",
                                "FT": ".864",
                                "rebounds": "2.1",
                                "assists": "1.3",
                                "points": "4.9"
                             },
                            { "name": "Theo Pinson", 
                             "FG": ".600",
                                "FG3": ".000",
                                "FT": ".500",
                                "rebounds": "4.3",
                                "assists": "0.8",
                                "points": "3.5"
                             },
                            { "name": "Alan Williams", 
                            "FG": ".400",
                                "FG3": ".000",
                                "FT": ".000",
                                "rebounds": "0.5",
                                "assists": "0.1",
                                "points": "2.0"
                             },
                        ]
                    },
                    {
                        "name": "CHA", "children": [
                        { "name": "Kemba Walker", 
                            "FG": ".430",
                                "FG3": ".359",
                                "FT": ".834",
                                "rebounds": "4.3",
                                "assists": "5.8",
                                "points": "25.2"
                         },
                        { "name": "Nicolas Batum", 
                        "FG": ".458",
                            "FG3": ".399",
                            "FT": ".855",
                            "rebounds": "5.3",
                            "assists": "3.5",
                            "points": "10.0"
                         },
                        { "name": "Marvin Williams", 
                         "FG": ".424",
                            "FG3": ".377",
                            "FT": ".744",
                            "rebounds": "5.7",
                            "assists": "1.3",
                            "points": "10.4"
                         },
                        { "name": "Jeremy Lamb", 
                        "FG": ".442",
                            "FG3": ".338",
                            "FT": ".880",
                            "rebounds": "5.6",
                            "assists": "2.2",
                            "points": "15.1"
                         },
                        { "name": "Cody Zeller", 
                         "FG": ".551",
                            "FG3": ".273",
                            "FT": ".787",
                            "rebounds": "6.8",
                            "assists": "2.1",
                            "points": "10.1"
                         },
                        { "name": "Miles Bridges", 
                         "FG": ".448",
                            "FG3": ".313",
                            "FT": ".746",
                            "rebounds": "3.7",
                            "assists": "0.9",
                            "points": "6.7"
                         },
                        { "name": "Michael Kidd-Gilchrist", 
                        "FG": ".481",
                            "FG3": ".275",
                            "FT": ".773",
                            "rebounds": "4.0",
                            "assists": "0.9",
                            "points": "7.1"
                         },
                        { "name": "Tony Parker", 
                        "FG": ".456",
                            "FG3": ".245",
                            "FT": ".730",
                            "rebounds": "1.5",
                            "assists": "3.8",
                            "points": "9.4"
                         },
                        { "name": "Malik Monk", 
                         "FG": ".386",
                            "FG3": ".325",
                            "FT": ".894",
                            "rebounds": "1.7",
                            "assists": "1.7",
                            "points": "9.6"
                         },
                        { "name": "Bismack Biyombo", 
                         "FG": ".579",
                            "FG3": "",
                            "FT": ".681",
                            "rebounds": "4.5",
                            "assists": "0.5",
                            "points": "4.3"
                         },
                        { "name": "J.P. Macura", 
                        "FG": ".250",
                            "FG3": ".000",
                            "FT": "",
                            "rebounds": "2.0",
                            "assists": "2.0",
                            "points": "4.0"
                         },
                        { "name": "Willy Hernangomez", 
                        "FG": ".521",
                            "FG3": ".433",
                            "FT": ".679",
                            "rebounds": "5.4",
                            "assists": "1.0",
                            "points": "7.1"
                         },
                        { "name": "Devonte' Graham", 
                        "FG": ".366",
                            "FG3": ".313",
                            "FT": ".739",
                            "rebounds": "1.2",
                            "assists": "2.2",
                            "points": "4.5"
                         },
                        { "name": "Frank Kaminsky", 
                         "FG": ".485",
                            "FG3": ".390",
                            "FT": ".692",
                            "rebounds": "2.9",
                            "assists": "1.1",
                            "points": "7.0"
                         },
                        { "name": "Dwayne Bacon", 
                        "FG": ".513",
                            "FG3": ".472",
                            "FT": ".833",
                            "rebounds": "1.6",
                            "assists": "0.8",
                            "points": "5.2"
                         },
                        { "name": "Shelvin Mack", 
                         "FG": ".143",
                            "FG3": "",
                            "FT": ".571",
                            "rebounds": "1.0",
                            "assists": "0.5",
                            "points": "3.0"
                         },
                        { "name": "Joe Chealey", 
                         "FG": ".333",
                            "FG3": "",
                            "FT": "",
                            "rebounds": "0.0",
                            "assists": "1.0",
                            "points": "2.0"
                         },
                    ]
                    },
                    {
                        "name": "CHI", "children": [
                            { "name": "Robin Lopez",
                            "FG": ".569",
                                "FG3": ".261",
                                "FT": ".729",
                                "rebounds": "3.7",
                                "assists": "1.1",
                                "points": "8.9"
                             },
                            { "name": "Timothe Luwawu-Cabarrot",
                            "FG": ".324",
                                "FG3": ".308",
                                "FT": ".692",
                                "rebounds": "2.1",
                                "assists": "0.5",
                                "points": "3.9"
                             },
                            { "name": "Denzel Valentine",
                            "FG": ".417",
                                "FG3": ".386",
                                "FT": ".745",
                                "rebounds": "5.1",
                                "assists": "3.2",
                                "points": "10.2"
                             },
                            { "name": "Kris Dunn",
                             "FG": ".430",
                                "FG3": ".357",
                                "FT": ".797",
                                "rebounds": "4.2",
                                "assists": "6.0",
                                "points": "11.1"
                             },
                            { "name": "Zach LaVine",
                            "FG": ".468",
                                "FG3": ".369",
                                "FT": ".831",
                                "rebounds": "4.6",
                                "assists": "4.5",
                                "points": "23.9"
                             },
                            { "name": "Otto Porter",
                             "FG": ".490",
                                "FG3": ".500",
                                "FT": ".903",
                                "rebounds": "5.8",
                                "assists": "2.8",
                                "points": "18.1"
                             },
                            { "name": "Lauri Markkanen",
                            "FG": ".431",
                                "FG3": ".362",
                                "FT": ".864",
                                "rebounds": "9.1",
                                "assists": "1.4",
                                "points": "18.9"
                             },
                            { "name": "Wendell Carter Jr.",
                            "FG": ".485",
                                "FG3": ".188",
                                "FT": ".795",
                                "rebounds": "7.0",
                                "assists": "1.8",
                                "points": "10.3"
                             },
                            { "name": "Ryan Arcidiacono",
                             "FG": ".444",
                                "FG3": ".370",
                                "FT": ".880",
                                "rebounds": "2.5",
                                "assists": "3.4",
                                "points": "6.1"
                             },
                            { "name": "Wayne Selden",
                            "FG": ".429",
                                "FG3": ".360",
                                "FT": ".766",
                                "rebounds": "2.6",
                                "assists": "1.7",
                                "points": "7.7"
                             },
                            { "name": "Chandler Hutchison",
                            "FG": ".459",
                                "FG3": ".280",
                                "FT": ".605",
                                "rebounds": "4.2",
                                "assists": "0.8",
                                "points": "5.2"
                             },
                            { "name": "Shaquille Harrison",
                            "FG": ".416",
                                "FG3": ".250",
                                "FT": ".650",
                                "rebounds": "2.5",
                                "assists": "1.8",
                                "points": "5.4"
                             },
                            { "name": "Antonio Blakeney",
                            "FG": ".433",
                                "FG3": ".453",
                                "FT": ".688",
                                "rebounds": "1.6",
                                "assists": "0.5",
                                "points": "7.3"
                             },
                            { "name": "Cristiano Felicio",
                            "FG": ".534",
                                "FG3": ".000",
                                "FT": ".688",
                                "rebounds": "2.9",
                                "assists": "0.5",
                                "points": "3.3"
                             },
                            { "name": "Brandon Sampson",
                            "FG": ".625",
                                "FG3": ".400",
                                "FT": "",
                                "rebounds": "0.8",
                                "assists": "0.2",
                                "points": "2.4"
                             },
                            { "name": "Rawle Alkins",
                            "FG": ".250",
                                "FG3": "1.000",
                                "FT": "",
                                "rebounds": "1.0",
                                "assists": "0.7",
                                "points": "1.0"
                             },
                        ]
                    },
                    {
                        "name": "CLE", "children": [
                            { "name": "John Henson" },
                            { "name": "Larry Nance Jr." },
                            { "name": "Brandon Knight" },
                            { "name": "Kevin Love" },
                            { "name": "Tristan Thompson" },
                            { "name": "Jordan Clarkson" },
                            { "name": "Matthew Dellavedova" },
                            { "name": "Marquese Chriss" },
                            { "name": "J.R. Smith" },
                            { "name": "Ante Zizic" },
                            { "name": "Cedi Osman" },
                            { "name": "Collin Sexton" },
                            { "name": "Channing Frye" },
                            { "name": "David Nwaba" },
                            { "name": "Jaron Blossomgame" },
                            { "name": "Deng Adel" },
                            { "name": "Nik Stauskas" },
                        ]
                    },
                    {
                        "name": "DAL", "children": [
                        { "name": "Kristaps Porzingis" },
                        { "name": "J.J. Barea" },
                        { "name": "Dwight Powell" },
                        { "name": "Dorian Finney-Smith" },
                        { "name": "Courtney Lee" },
                        { "name": "Justin Jackson" },
                        { "name": "Tim Hardaway Jr." },
                        { "name": "Maxi Kleber" },
                        { "name": "Trey Burke" },
                        { "name": "Luka Doncic" },
                        { "name": "Ryan Broekhoff" },
                        { "name": "Kostas Antetokounmpo" },
                        { "name": "Jalen Brunson" },
                        { "name": "Dirk Nowitzki" },
                        { "name": "Daryl Macon" },
                        { "name": "Devin Harris" },
                    ]
                    },
                    {
                        "name": "DEN", "children": [
                            { "name": "Trey Lyles" },
                            { "name": "Malik Beasley" },
                            { "name": "Jamal Murray" },
                            { "name": "Juan Hernangomez" },
                            { "name": "Tyler Lydon" },
                            { "name": "Paul Millsap" },
                            { "name": "Mason Plumlee" },
                            { "name": "Gary Harris" },
                            { "name": "Michael Porter Jr." },
                            { "name": "Torrey Craig" },
                            { "name": "Nikola Jokic" },
                            { "name": "Will Barton" },
                            { "name": "Jarred Vanderbilt" },
                            { "name": "Isaiah Thomas" },
                            { "name": "Thomas Welsh" },
                            { "name": "Monte Morris" },
                            { "name": "Brandon Goodwin" },
                        ]
                    },
                    {
                        "name": "DET", "children": [
                            { "name": "Reggie Jackson" },
                            { "name": "Jon Leuer" },
                            { "name": "Ish Smith" },
                            { "name": "Andre Drummond" },
                            { "name": "Thon Maker" },
                            { "name": "Luke Kennard" },
                            { "name": "Langston Galloway" },
                            { "name": "Blake Griffin" },
                            { "name": "Bruce Brown" },
                            { "name": "Glenn Robinson III" },
                            { "name": "Jose Calderon" },
                            { "name": "Sviatoslav Mykhailiuk" },
                            { "name": "Zaza Pachulia" },
                            { "name": "Khyri Thomas" },
                            { "name": "Kalin Lucas" },
                            { "name": "Isaiah Whitehead" },
                            { "name": "Wayne Ellington" },
                        ]
                    },
                    {
                        "name": "GSW", "children": [
                            { "name": "Klay Thompson" },
                            { "name": "Draymond Green" },
                            { "name": "Damian Jones" },
                            { "name": "Jordan Bell" },
                            { "name": "Stephen Curry",
                              "img": "<img id='cover-img' src='https://pngimage.net/wp-content/uploads/2018/06/stephen-curry-shooting-png-7.png'>",
                              "points": 27.9,
                              "rebounds": 5.3,
                              "assists": 5.2,
                              "FG": 47.3,
                              "FG3": 42.9,
                              "FT": 91.4
                            },
                            { "name": "Andre Iguodala" },
                            { "name": "Shaun Livingston" },
                            { "name": "Quinn Cook" },
                            { "name": "Jacob Evans" },
                            { "name": "DeMarcus Cousins" },
                            { "name": "Kevin Durant" },
                            { "name": "Kevon Looney" },
                            { "name": "Jonas Jerebko" },
                            { "name": "Damion Lee" },
                            { "name": "Marcus Derrickson" },
                            { "name": "Alfonzo McKinnie" },
                            { "name": "Andrew Bogut" },
                        ]
                    },
                    {
                        "name": "HOU", "children": [
                            { "name": "James Harden" },
                            { "name": "Iman Shumpert" },
                            { "name": "Eric Gordon" },
                            { "name": "Nene" },
                            { "name": "P.J. Tucker" },
                            { "name": "Chris Paul" },
                            { "name": "Gerald Green" },
                            { "name": "Isaiah Hartenstein" },
                            { "name": "Clint Capela" },
                            { "name": "Gary Clark" },
                            { "name": "Vince Edwards" },
                            { "name": "Danuel House" },
                            { "name": "Austin Rivers" },
                            { "name": "Kenneth Faried" },
                            { "name": "Terrence Jones" },
                        ]
                    },
                    {
                        "name": "IND", "children": [
                            { "name": "Victor Oladipo" },
                            { "name": "Myles Turner" },
                            { "name": "Thaddeus Young" },
                            { "name": "Cory Joseph" },
                            { "name": "Domantas Sabonis" },
                            { "name": "T.J. Leaf" },
                            { "name": "Bojan Bogdanovic" },
                            { "name": "Darren Collison" },
                            { "name": "Edmond Sumner" },
                            { "name": "Aaron Holiday" },
                            { "name": "Tyreke Evans" },
                            { "name": "Doug McDermott" },
                            { "name": "Kyle O'Quinn" },
                            { "name": "Alize Johnson" },
                            { "name": "Davon Reed" },
                            { "name": "Wesley Matthews" },
                        ]
                    },
                    {
                        "name": "LAC", "children": [
                            { "name": "Wilson Chandler" },
                            { "name": "Patrick Beverley" },
                            { "name": "Lou Williams" },
                            { "name": "Ivica Zubac" },
                            { "name": "Garrett Temple" },
                            { "name": "Danilo Gallinari" },
                            { "name": "Sindarius Thornwell" },
                            { "name": "JaMychal Green" },
                            { "name": "Johnathan Motley" },
                            { "name": "Shai Gilgeous-Alexander" },
                            { "name": "Landry Shamet" },
                            { "name": "Jerome Robinson" },
                            { "name": "Angel Delgado " },
                            { "name": "Luc Mbah a Moute" },
                            { "name": "Montrezl Harrell" },
                            { "name": "Tyrone Wallace" },
                        ]
                    },
                    {
                        "name": "LAL", "children": [
                            { "name": "Brandon Ingram" },
                            { "name": "Lonzo Ball" },
                            { "name": "Kyle Kuzma" },
                            { "name": "Josh Hart" },
                            { "name": "Reggie Bullock" },
                            { "name": "Mike Muscala" },
                            { "name": "Moritz Wagner" },
                            { "name": "Isaac Bonga" },
                            { "name": "Kentavious Caldwell-Pope" },
                            { "name": "Rajon Rondo" },
                            { "name": "LeBron James" },
                            { "name": "Lance Stephenson" },
                            { "name": "JaVale McGee" },
                            { "name": "Alex Caruso" },
                            { "name": "Johnathan Williams" },
                            { "name": "Tyson Chandler" },
                            { "name": "Andre Ingram" },
                        ]
                    },
                    {
                        "name": "MEM", "children": [
                            { "name": "Jonas Valanciunas" },
                            { "name": "Delon Wright" },
                            { "name": "Chandler Parsons" },
                            { "name": "Mike Conley" },
                            { "name": "Justin Holiday" },
                            { "name": "Tyler Dorsey" },
                            { "name": "C.J. Miles" },
                            { "name": "Dillon Brooks" },
                            { "name": "Ivan Rabb" },
                            { "name": "Jaren Jackson" },
                            { "name": "Avery Bradley" },
                            { "name": "Kyle Anderson" },
                            { "name": "Jevon Carter" },
                            { "name": "Yuta Watanabe" },
                            { "name": "Joakim Noah" },
                            { "name": "Julian Washburn" },
                            { "name": "Bruno Caboclo" },
                        ]
                    },
                    {
                        "name": "MIA", "children": [
                            { "name": "Justise Winslow" },
                            { "name": "Goran Dragic" },
                            { "name": "Ryan Anderson" },
                            { "name": "Hassan Whiteside" },
                            { "name": "Rodney McGruder" },
                            { "name": "Bam Adebayo" },
                            { "name": "James Johnson" },
                            { "name": "Dion Waiters" },
                            { "name": "Kelly Olynyk" },
                            { "name": "Josh Richardson" },
                            { "name": "Derrick Jones Jr." },
                            { "name": "Duncan Robinson" },
                            { "name": "Yante Maten" },
                            { "name": "Udonis Haslem" },
                            { "name": "Dwyane Wade" },
                        ]
                    },
                    {
                        "name": "MIL", "children": [
                            { "name": "Eric Bledsoe" },
                            { "name": "Giannis Antetokounmpo" },
                            { "name": "Khris Middleton" },
                            { "name": "Malcolm Brogdon" },
                            { "name": "D.J. Wilson" },
                            { "name": "George Hill" },
                            { "name": "Sterling Brown" },
                            { "name": "Tony Snell" },
                            { "name": "Nikola Mirotic" },
                            { "name": "Donte DiVincenzo" },
                            { "name": "Ersan Ilyasova" },
                            { "name": "Brook Lopez" },
                            { "name": "Trevon Duval" },
                            { "name": "Pat Connaughton" },
                            { "name": "Christian Wood" },
                            { "name": "Bonzie Colson" },
                            { "name": "Pau Gasol" },
                        ]
                    },
                    {
                        "name": "MIN", "children": [
                            { "name": "Gorgui Dieng" },
                            { "name": "Andrew Wiggins" },
                            { "name": "Robert Covington" },
                            { "name": "Karl-Anthony Towns" },
                            { "name": "Tyus Jones" },
                            { "name": "Dario Saric" },
                            { "name": "Jerryd Bayless" },
                            { "name": "Jeff Teague" },
                            { "name": "Taj Gibson" },
                            { "name": "Josh Okogie" },
                            { "name": "Derrick Rose" },
                            { "name": "Jared Terrell" },
                            { "name": "Keita Bates-Diop" },
                            { "name": "Anthony Tolliver" },
                            { "name": "C.J. Williams" },
                            { "name": "Luol Deng" },
                            { "name": "Cameron Reynolds" },
                        ]
                    },
                    {
                        "name": "NO", "children": [
                            { "name": "Anthony Davis" },
                            { "name": "Stanley Johnson" },
                            { "name": "E'Twaun Moore" },
                            { "name": "Cheick Diallo" },
                            { "name": "Solomon Hill" },
                            { "name": "Jrue Holiday" },
                            { "name": "Frank Jackson" },
                            { "name": "Darius Miller" },
                            { "name": "Jason Smith" },
                            { "name": "Elfrid Payton" },
                            { "name": "Julius Randle" },
                            { "name": "Ian Clark" },
                            { "name": "Trevon Bluiett" },
                            { "name": "Kenrich Williams" },
                            { "name": "Jahlil Okafor" },
                            { "name": "Dairis Bertans" },
                        ]
                    },
                    {
                        "name": "NYK", "children": [
                            { "name": "Emmanuel Mudiay" },
                            { "name": "Lance Thomas" },
                            { "name": "Frank Ntilikina" },
                            { "name": "Dennis Smith Jr." },
                            { "name": "Damyean Dotson" },
                            { "name": "Isaiah Hicks" },
                            { "name": "Kevin Knox" },
                            { "name": "Mario Hezonja" },
                            { "name": "DeAndre Jordan" },
                            { "name": "Luke Kornet" },
                            { "name": "Mitchell Robinson" },
                            { "name": "Allonzo Trier" },
                            { "name": "Noah Vonleh" },
                            { "name": "Kadeem Allen" },
                            { "name": "John Jenkins" },
                            { "name": "Henry Ellenson" },
                        ]
                    },
                    {
                        "name": "OKC", "children": [
                            { "name": "Dennis Schroder" },
                            { "name": "Russell Westbrook" },
                            { "name": "Steven Adams" },
                            { "name": "Patrick Patterson" },
                            { "name": "Abdel Nader" },
                            { "name": "Andre Roberson" },
                            { "name": "Terrance Ferguson" },
                            { "name": "Nerlens Noel" },
                            { "name": "Paul George" },
                            { "name": "Deonte Burton" },
                            { "name": "Jerami Grant" },
                            { "name": "Raymond Felton" },
                            { "name": "Hamidou Diallo" },
                            { "name": "Donte Grantham" },
                            { "name": "Markieff Morris" },
                        ]
                    },
                    {
                        "name": "ORL", "children": [
                            { "name": "Nikola Vucevic" },
                            { "name": "Terrence Ross" },
                            { "name": "Jerian Grant" },
                            { "name": "Jarell Martin" },
                            { "name": "Timofey Mozgov" },
                            { "name": "D.J. Augustin" },
                            { "name": "Evan Fournier" },
                            { "name": "Jonathan Isaac" },
                            { "name": "Markelle Fultz" },
                            { "name": "Wesley Iwundu" },
                            { "name": "Khem Birch" },
                            { "name": "Mohamed Bamba" },
                            { "name": "Isaiah Briscoe" },
                            { "name": "Melvin Frazier" },
                            { "name": "Aaron Gordon" },
                            { "name": "Troy Caupain" },
                            { "name": "Amile Jefferson" },
                        ]
                    },
                    {
                        "name": "PHI", "children": [
                            { "name": "Jimmy Butler" },
                            { "name": "Tobias Harris" },
                            { "name": "Ben Simmons" },
                            { "name": "Boban Marjanovic" },
                            { "name": "T.J. McConnell" },
                            { "name": "Furkan Korkmaz" },
                            { "name": "Justin Patton" },
                            { "name": "Jonathon Simmons" },
                            { "name": "Joel Embiid" },
                            { "name": "Zhaire Smith" },
                            { "name": "J.J. Redick" },
                            { "name": "Mike Scott" },
                            { "name": "James Ennis" },
                            { "name": "Amir Johnson" },
                            { "name": "Jonah Bolden" },
                            { "name": "Shake Milton" },
                            { "name": "Haywood Highsmith" },
                        ]
                    },
                    {
                        "name": "PHX", "children": [
                            { "name": "T.J. Warren" },
                            { "name": "Devin Booker" },
                            { "name": "Kelly Oubre Jr." },
                            { "name": "Richaun Holmes" },
                            { "name": "Tyler Johnson" },
                            { "name": "Troy Daniels" },
                            { "name": "Dragan Bender" },
                            { "name": "Josh Jackson" },
                            { "name": "Deandre Ayton" },
                            { "name": "Mikal Bridges" },
                            { "name": "George King" },
                            { "name": "Elie Okobo" },
                            { "name": "De'Anthony Melton" },
                            { "name": "Jamal Crawford" },
                            { "name": "Jawun Evans" },
                            { "name": "Ray Spalding" },
                        ]
                    },
                    {
                        "name": "POR", "children": [
                            { "name": "Damian Lillard" },
                            { "name": "CJ McCollum" },
                            { "name": "Al-Farouq Aminu" },
                            { "name": "Evan Turner" },
                            { "name": "Jake Layman" },
                            { "name": "Meyers Leonard" },
                            { "name": "Skal Labissiere" },
                            { "name": "Maurice Harkless" },
                            { "name": "Zach Collins" },
                            { "name": "Anfernee Simons" },
                            { "name": "Jusuf Nurkic" },
                            { "name": "Gary Trent Jr." },
                            { "name": "Seth Curry" },
                            { "name": "Rodney Hood" },
                            { "name": "Enes Kanter" },
                        ]
                    },
                    {
                        "name": "SAC", "children": [
                            { "name": "Alec Burks" },
                            { "name": "Willie Cauley-Stein" },
                            { "name": "Kosta Koufos" },
                            { "name": "Harrison Barnes" },
                            { "name": "Buddy Hield" },
                            { "name": "Caleb Swanigan" },
                            { "name": "Harry Giles" },
                            { "name": "De'Aaron Fox" },
                            { "name": "Bogdan Bogdanovic" },
                            { "name": "Frank Mason III" },
                            { "name": "Marvin Bagley III" },
                            { "name": "Nemanja Bjelica" },
                            { "name": "Yogi Ferrell" },
                            { "name": "Wenyen Gabriel" },
                            { "name": "Troy Williams" },
                            { "name": "Corey Brewer" },
                        ]
                    },
                    {
                        "name": "SAS", "children": [
                            { "name": "LaMarcus Aldridge" },
                            { "name": "Dejounte Murray" },
                            { "name": "DeMar DeRozan" },
                            { "name": "Jakob Poeltl" },
                            { "name": "Derrick White" },
                            { "name": "Patty Mills" },
                            { "name": "Rudy Gay" },
                            { "name": "Davis Bertans" },
                            { "name": "Lonnie Walker" },
                            { "name": "Dante Cunningham" },
                            { "name": "Marco Belinelli" },
                            { "name": "Bryn Forbes" },
                            { "name": "Quincy Pondexter" },
                            { "name": "Chimezie Metu" },
                            { "name": "Drew Eubanks" },
                            { "name": "Ben Moore" },
                        ]
                    },
                    {
                        "name": "TOR", "children": [
                            { "name": "Marc Gasol" },
                            { "name": "Kawhi Leonard" },
                            { "name": "Danny Green" },
                            { "name": "Pascal Siakam" },
                            { "name": "OG Anunoby" },
                            { "name": "Kyle Lowry" },
                            { "name": "Serge Ibaka" },
                            { "name": "Norman Powell" },
                            { "name": "Fred VanVleet" },
                            { "name": "Chris Boucher" },
                            { "name": "Jordan Loyd" },
                            { "name": "Patrick McCaw" },
                            { "name": "Malcolm Miller" },
                            { "name": "Jeremy Lin" },
                        ]
                    },
                    {
                        "name": "UTH", "children": [
                            { "name": "Rudy Gobert" },
                            { "name": "Ricky Rubio" },
                            { "name": "Jae Crowder" },
                            { "name": "Donovan Mitchell" },
                            { "name": "Tony Bradley" },
                            { "name": "Kyle Korver" },
                            { "name": "Thabo Sefolosha" },
                            { "name": "Royce O'Neale" },
                            { "name": "Ekpe Udoh" },
                            { "name": "Joe Ingles" },
                            { "name": "Grayson Allen" },
                            { "name": "Derrick Favors" },
                            { "name": "Dante Exum" },
                            { "name": "Raul Neto" },
                            { "name": "Georges Niang" },
                            { "name": "Naz Mitrou-Long" },
                            { "name": "Tyler Cavanaugh" },
                        ]
                    },
                    {
                        "name": "WAS", "children": [
                            { "name": "AJohn Wall1" },
                            { "name": "Sam Dekker" },
                            { "name": "Bobby Portis" },
                            { "name": "Wesley Johnson" },
                            { "name": "Ian Mahinmi" },
                            { "name": "Tomas Satoransky" },
                            { "name": "Bradley Beal" },
                            { "name": "Devin Robinson" },
                            { "name": "Troy Brown Jr." },
                            { "name": "Trevor Ariza" },
                            { "name": "Jeff Green" },
                            { "name": "Dwight Howard" },
                            { "name": "Jabari Parker" },
                            { "name": "Thomas Bryant" },
                            { "name": "Jordan McRae" },
                            { "name": "Chasson Randle" },
                        ]
                    }
                ]
            };

            

            let diameter = 1900;

            let margin = { top: 20, right: 120, bottom: 20, left: 120 },
                width = diameter,
                height = diameter;

            let i = 0,
                duration = 250,
                root;
            //DISTANCE BETWEEN CLUSTERS
            let tree = d3.layout.tree()
                .size([360, (diameter / 2 - 80)])
                .separation(function (a, b) { return (a.parent == b.parent ? 1.5 : 2.7) / a.depth; });

            let diagonal = d3.svg.diagonal.radial()
                .projection(function (d) { return [d.y, d.x / 180 * Math.PI]; });

            let svg = d3.select("body").append("svg")
                .attr("width", width)
                .attr("height", height)
                .append("g")
                .attr("transform", "translate(" + diameter / 2.5 + "," + diameter / 2.5 + ")")
                // .on('mouseover', function(d, i){
                //     tip.show(d,i);
                // });
            root = pubs;
            root.x0 = height / 2;
            root.y0 = 0;

            var tip = d3.tip()
                    // .append('svg:image')
                    .attr('class', 'd3-tip')
                    .offset([-50, -100])
                    .html(function (d) {
                        console.log(d);
                        return(
                        "<div id='profile'> <center><h2>" + d.name + "</h2></center>" + d.img + "<div id='stats'>" + "<div id='stats-left'>" + "<div>" + "PTS - " + d.points + "</div>" + "<div>" + "RB - " + d.rebounds + "</div>" + "<div>" + "AST - " + d.assists + "</div>" + "</div>" 
                        + "<div id='stats-right'>" + "<div>" + "FG% - "+ d.FG + "</div>" + "<div>" + "FG3% - "+ d.FG3 + "</div>" + "<div>" + "FT% - "+ d.FT + "</div>" + "</div>" );
                    })


                    svg.call(tip);

            //root.children.forEach(collapse); // start with all children collapsed
            update(root);

            d3.select(self.frameElement).style("height", "800px");

            function update(source) {

                // Compute the new tree layout.
                let nodes = tree.nodes(root),
                    links = tree.links(nodes);

                // Normalize for fixed-depth.
                //LENGTH OF LINES
                nodes.forEach(function (d) { d.y = d.depth * 300; });

                // Update the nodes
                let node = svg.selectAll("g.node")
                    .data(nodes, function (d) { return d.id || (d.id = ++i); })
                    .on("mouseover", tip.show)
                    .on("mouseout", tip.hide);
                //     .on("click", function (d) {

                //         if(!d.children){
                //             // <div id="six" class="button">Sketch</div>
                //             console.log(d.name);
                //         }
                //     d3.event.stopPropagation();
                // });

            

                 function handleMouseOver(d, i) {  // Add interactivity

                    // Use D3 to select element, change color and size
                    d3.select(this).attr({
                        fill: "red",
                        // r: 20
                    });

                    // Specify where to put label of text
                    // svg.append("text").attr({
                    //     // id: "t" + d.x + "-" + d.y + "-" + i,  // Create an id for text so we can select it later for removing on mouseout
                    //     // x: function () { return xScale(d.x) - 30; },
                    //     // y: function () { return yScale(d.y) - 15; }
                    //     // id: 'aaa',
                    //     // x: 'bbb',
                    //     // y: 'ccc'
                    // })
                    //     .text(function () {
                    //         return [d.x, d.y];  // Value of the text
                    //     });
                }

                function handleMouseOut(d, i) {
                    // Use D3 to select element, change color back to normal
                    d3.select(this).attr({
                        fill: "black",
                        // r: 20
                    });

                    // Select text by id and then remove
                    // d3.select("#t" + d.x + "-" + d.y + "-" + i).remove();  // Remove text location
                }
                    

                // Enter any new nodes at the parent's previous position.
                let nodeEnter = node.enter().append("g")
                    .attr("class", "node")
                    //.attr("transform", function(d) { return "rotate(" + (d.x - 90) + ")translate(" + d.y + ")"; })
                    .on("click", click);

                nodeEnter.append("circle")
                    .attr("r", 1e-6)
                    .style("fill", function (d) { return d._children ? "lightsteelblue" : "#fff"; });

                nodeEnter.append("text")
                    .attr("x", 30)
                    .attr("dy", ".35em")
                    .attr("text-anchor", "start")
                    // .attr("transform", function(d) { return d.x < 180 ? "translate(0)" : "rotate(180)translate(-" + (d.name.length * 8.5)  + ")"; })
                    .text(function (d) { return d.name; })
                    .style("fill-opacity", 1e-6);

                // Transition nodes to their new position.
                let nodeUpdate = node.transition()
                    .duration(duration)
                    .attr("transform", function (d) { return "rotate(" + (d.x - 90) + ")translate(" + d.y + ")"; })

                nodeUpdate.select("circle")
                    .attr("r", 4.5)
                    .style("fill", function (d) { return d._children ? "lightsteelblue" : "#fff"; });

                nodeUpdate.select("text")
                    .style("fill-opacity", 1)
                    //FLIP WHEN HALF WAY
                    // .attr("transform", function (d) { return d.x < 180 ? "translate(0)" : "rotate(180)translate(-" + (d.name.length + 50) + ")"; });

                // TODO: appropriate transform
                let nodeExit = node.exit().transition()
                    .duration(duration)
                    //.attr("transform", function(d) { return "diagonal(" + source.y + "," + source.x + ")"; })
                    .remove();

                nodeExit.select("circle")
                    .attr("r", 1e-6);

                nodeExit.select("text")
                    .style("fill-opacity", 1e-6);

                // Update the links
                let link = svg.selectAll("path.link")
                    .data(links, function (d) { return d.target.id; });

                // Enter any new links at the parent's previous position.
                link.enter().insert("path", "g")
                    .attr("class", "link")
                    .attr("d", function (d) {
                        let o = { x: source.x0, y: source.y0 };
                        return diagonal({ source: o, target: o });
                    });

                // Transition links to their new position.
                link.transition()
                    .duration(duration)
                    .attr("d", diagonal);

                // Transition exiting nodes to the parent's new position.
                link.exit().transition()
                    .duration(duration)
                    .attr("d", function (d) {
                        let o = { x: source.x, y: source.y };
                        return diagonal({ source: o, target: o });
                    })
                    .remove();

                // Stash the old positions for transition.
                nodes.forEach(function (d) {
                    d.x0 = d.x;
                    d.y0 = d.y;
                });
            }

            // Toggle children on click.
            function click(d) {
                if (d.children) {
                    d._children = d.children;
                    d.children = null;
                } else {
                    d.children = d._children;
                    d._children = null;
                }

                update(d);
            }

            // Collapse nodes
            function collapse(d) {
                if (d.children) {
                    d._children = d.children;
                    d._children.forEach(collapse);
                    d.children = null;
                }
            }

            
    </script>
</body>

</html>